@page "/vehicles"

<HeroTitle Title="Vehicles" Description="Manage Vehicles Detail" />
<MudTable Items="@vehicles" Hover="true" Striped="true" Filter="new Func<VehicleDto,bool>(FilterFunc1)" @bind-SelectedItem="selectedItem1">
    <ToolBarContent>
        <MudHidden Breakpoint="Breakpoint.Xs">

             <MudButton DisableElevation Variant="Variant.Filled"
               OnClick="(()=> InvokeVehicleDialog())"
                Color="Color.Primary"
                StartIcon="@Icons.Material.Filled.PersonAdd"
                IconColor="Color.Surface">
                Add Vehicle
                </MudButton>

            <MudSpacer />
        </MudHidden>

         <MudTextField @bind-Value="searchString"
            Immediate="true"
            Placeholder="Search"
            Adornment="Adornment.Start"
            AdornmentIcon="@Icons.Material.Filled.Search"
            IconSize="Size.Medium" />

    </ToolBarContent>
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Owner</MudTh>
        <MudTh>Plate Number</MudTh>
        <MudTh>Brand</MudTh>
        <MudTh>Model</MudTh>
        <MudTh>Chassis No.</MudTh>
        <MudTh>Engine No.</MudTh>
        <MudTh>Colour</MudTh>
        <MudTh>Registration Date</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Name">@context.Name</MudTd>
        <MudTd DataLabel="Owner">@context.Owner</MudTd>
        <MudTd DataLabel="Plate Number">@context.PlateNumber</MudTd>
        <MudTd DataLabel="Brand">@context.Brand</MudTd>
        <MudTd DataLabel="Model">@context.Model</MudTd>
        <MudTd DataLabel="Chassis No">@context.ChassisNo</MudTd>
        <MudTd DataLabel="Engine Number">@context.EngineNumber</MudTd>
        <MudTd DataLabel="Colour">@context.Colour</MudTd> 
        <MudTd DataLabel="Registration Date">@context.RegistrationDate?.ToString("dd/MM/yyyy")</MudTd>
        <MudTd DataLabel="Actions" Style="text-align: right">

            <MudMenu Label="Actions" Variant="Variant.Filled" DisableElevation="true" EndIcon="@Icons.Filled.KeyboardArrowDown" IconColor="Color.Secondary" Direction="Direction.Left" OffsetX="true">
                <MudMenuItem @onclick="@(() => InvokeVehicleDialog(context.Id))">Edit Vehicle</MudMenuItem>
                <MudMenuItem @onclick="@(() => DeleteVehicle(context))">Delete</MudMenuItem>
            </MudMenu>

        </MudTd>


    </RowTemplate>
</MudTable>


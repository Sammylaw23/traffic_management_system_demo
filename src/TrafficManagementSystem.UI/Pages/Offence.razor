@page "/offences"

<HeroTitle Title="Offences" Description="Manage Offences Detail" />
<MudTable Items="@offences" Hover="true" Striped="true" Filter="new Func<OffenceDto,bool>(FilterFunc1)" @bind-SelectedItem="selectedItem1">
    <ToolBarContent>
        <MudHidden Breakpoint="Breakpoint.Xs">

             <MudButton DisableElevation Variant="Variant.Filled"
               OnClick="(()=> InvokeOffenceDialog())"
                Color="Color.Primary"
                StartIcon="@Icons.Material.Filled.PersonAdd"
                IconColor="Color.Surface">
                Add Offence
                </MudButton>

            <MudSpacer />
        </MudHidden>

         <MudTextField @bind-Value="searchString"
            Immediate="true"
            Placeholder="Search"
            Adornment="Adornment.Start"
            AdornmentIcon="@Icons.Material.Filled.Search"
            IconSize="Size.Medium" />

    </ToolBarContent>
    <HeaderContent>
        <MudTh>Offender Name</MudTh>
        <MudTh>License Number</MudTh>
        <MudTh>Plate Number</MudTh>
        <MudTh>Offence Logged By</MudTh>
        <MudTh>Offence Type Code</MudTh>
        <MudTh>Report Date</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="First Name">@context.OffenderName</MudTd>
        <MudTd DataLabel="Last Name">@context.LicenseNo</MudTd>
        <MudTd DataLabel="Email">@context.PlateNumber</MudTd>
        <MudTd DataLabel="Phone Number">@context.CreatedBy</MudTd>
        <MudTd DataLabel="Date of Birth">@context.OffenceTypeCode</MudTd>
        <MudTd DataLabel="Gender">@context.CreatedTime</MudTd>
        <MudTd DataLabel="Actions" Style="text-align: right">

            <MudMenu Label="Actions" Variant="Variant.Filled" DisableElevation="true" EndIcon="@Icons.Filled.KeyboardArrowDown" IconColor="Color.Secondary" Direction="Direction.Left" OffsetX="true">
                <MudMenuItem @onclick="@(() => InvokeOffenceDialog(context.Id))">Edit Offence</MudMenuItem>
                <MudMenuItem @onclick="@(() => DeleteOffence(context))">Delete</MudMenuItem>
            </MudMenu>

        </MudTd>


    </RowTemplate>
</MudTable>

